2015/3/16 14:16:49
孙超 2015/3/16 14:16:49
这里面的代码是什么语言
dodo 2015/3/16 14:17:05
我也不会呢，从来没试过数据库的主从配置啥的。
dodo 2015/3/16 14:17:44
苟且回答。  这不是什么语言，就是@找我私聊者踢 为ssdb特制的配置文件。
dodo 2015/3/16 14:18:02
也可以称为"语言" 它有格式。
孙超 2015/3/16 14:18:35
我现在做用户中心，里面的数据全都用ssdb存
孙超 2015/3/16 14:18:45
现在写完了，但是不知道怎么部署
2015/3/16 14:21:38
        亦清 2015/3/16 14:21:38
你们用户中心都啥主要功能啊 用ssdb可以满足么？
孙超 2015/3/16 14:22:16
就是注册登录，修改密码，修改用户信息
孙超 2015/3/16 14:22:20
查询用户信息
diwayou 2015/3/16 14:23:06
 为什么不是mysql ＋ 缓存呢？

        亦清 2015/3/16 14:23:07
你们系统 是多个子系统公用么 负责发访问令牌不？
孙超 2015/3/16 14:23:29
嗯
diwayou 2015/3/16 14:23:30
写少（稀少）  读多
2015/3/16 14:24:12
孙超 2015/3/16 14:24:12
就是一个用户中心，有多个服务的用户，所有的服务都从我这边拿数据
孙超 2015/3/16 14:24:48
2013-12-23
SSDB 的双主和多主配置
SSDB Views: 12424	| 10 Comments
SSDB 数据库是支持双主(双 Master)和多主架构的. 而且, 我们的应用也是部署双主架构, 但当作单主来用. 也就是说, 平时只往其中一个写, 当出现故障时, 整体切换到另一个主上面. 如果应用层已经解决了数据拆分, 也即不会两个节点同时操作一个 key, 那么就可以放心使用双主同时写入.

SSDB 双主的配置非常简单:

#server 1

replication:
	slaveof:
		id: svc_2
		# sync|mirror, default is sync
		type: mirror
		ip: 127.0.0.1
		port: 8889
#server 2

replication:
	slaveof:
		id: svc_1
		# sync|mirror, default is sync
		type: mirror
		ip: 127.0.0.1
		port: 8888
孙超 2015/3/16 14:24:57
这个配置文件是怎么配的
孙超 2015/3/16 14:25:00
在哪配
孙超 2015/3/16 14:25:34
我这边只是调用ssdb接口，但是具体ssdb数据库那边怎么弄的从来都不知道
2015/3/16 14:26:18
        亦清 2015/3/16 14:26:18
那用户信息 还需要同步到你这里的呀
孙超 2015/3/16 14:26:30
对啊
孙超 2015/3/16 14:26:51
用户信息都要同步的，而且我还要用mysql做备份

        亦清 2015/3/16 14:26:52
你是不是也写了 用户写相关的接口 供其他人调用
孙超 2015/3/16 14:27:04
要是丢失数据就用mysql还原
孙超 2015/3/16 14:27:14
嗯
孙超 2015/3/16 14:27:36
我现在就是写的接口 没有自己的页面
孙超 2015/3/16 14:27:56
还是用其他服务的页面
孙超 2015/3/16 14:28:02
他们只是调用我的接口
孙超 2015/3/16 14:28:14
这个配置文件应该怎么写
2015/3/16 14:28:43
        亦清 2015/3/16 14:28:43
你找找 ssdb内置的配置文件位置先吧 
俊彦 2015/3/16 14:30:37
meta目录是干什么的？
2015/3/16 14:42:47
碧海长空 2015/3/16 14:42:47
如何获取用户在ssdb中的创建的所有的表

9:59:05
苛（百业网） 2015/3/17 9:59:05

9:59:25
苛（百业网） 2015/3/17 9:59:25
为什么这个一直占很高的cpu？
找我私聊者踢 2015/3/17 9:59:48
什么版本？
苛（百业网） 2015/3/17 9:59:49
我目前好象没有让这个ssdb干活呢。
苛（百业网） 2015/3/17 9:59:55
1.8.0
找我私聊者踢 2015/3/17 10:00:09
什么时候升级的？
苛（百业网） 2015/3/17 10:00:19
年前吧。
苛（百业网） 2015/3/17 10:00:33
春节前升级的。
找我私聊者踢 2015/3/17 10:00:43
那应该是在compact
找我私聊者踢 2015/3/17 10:00:50
一会会正常
找我私聊者踢 2015/3/17 10:00:59
可以看看数据的健康状况
苛（百业网） 2015/3/17 10:01:09
怎么看？
苛（百业网） 2015/3/17 10:01:18
好象一直这样。
10:01:48
找我私聊者踢 2015/3/17 10:01:48
info命令
苛（百业网） 2015/3/17 10:03:14
哦搞错了一台机器了，这个是1.6.8的。
苛（百业网） 2015/3/17 10:03:43
做同步队列在使用。
10:15:36
达摩 2015/3/17 10:15:36
@找我私聊者踢 ,能否增加一个指令qclean，将数据清除的同时返回数据
10:19:50
找我私聊者踢 2015/3/17 10:19:50
用qpop
达摩 2015/3/17 10:20:23
qpop只能删除一条数据的呀
10:21:06
找我私聊者踢 2015/3/17 10:21:06
看文档
达摩 2015/3/17 10:22:25
@找我私聊者踢 ，tkx，看到了
10:48:15
孙超 2015/3/17 10:48:15
还是昨天做ssdb集群，现在我都配置上了，我是用java代码写的service，我现在想要判断，如果socket出错，那么我想判断下一个主是否可用，应该怎么做啊
孙超 2015/3/17 10:48:25
然后，如果之前的主恢复过来了，就还原成之前的主
孙超 2015/3/17 10:48:32
我就是现在想要判断下一个主是否可用，有没有什么方法吗
10:51:41
找我私聊者踢 2015/3/17 10:51:41
执行ping命令
10:56:43
孙超 2015/3/17 10:56:43
哦 但是我现在是把下一个主配置到配置文件中，我不知道下一个主是什么，下一个主应该怎么查啊
11:09:03
孙超 2015/3/17 11:09:03
群主你说这个实现有逻辑上的问题吗
